# EXP3 快速总结

## 核心结果：去掉 1-4 个 Block 的最佳选择

基于 8 个数据集的 beam search 实验结果：

### 去掉 1 个 Block
**推荐：去掉 Block 4**
- 准确率下降：**3.09%** ± 3.15%
- 测试数据集：8 个（全部）
- 稳健性：⭐⭐⭐⭐⭐

### 去掉 2 个 Blocks
**推荐：去掉 Block 4, 13**
- 准确率下降：**5.41%** ± 4.43%
- 测试数据集：7 个
- 增量下降：+2.32%

### 去掉 3 个 Blocks
**推荐：去掉 Block 4, 10, 13**
- 准确率下降：**7.53%** ± 8.73%
- 测试数据集：2 个
- 增量下降：+2.12%

### 去掉 4 个 Blocks
**推荐：去掉 Block 2, 4, 10, 13**
- 准确率下降：**18.36%** ± 18.90%
- 测试数据集：2 个
- 增量下降：+10.83% ⚠️（较大）

## 关键发现

1. **Block 4 是最不重要的单个 block**：在所有数据集上验证，下降仅 3.09%
2. **Block 0 绝对不能移除**：移除后准确率下降 62.7%
3. **逐步移除策略**：4 → 4,13 → 4,10,13 → 2,4,10,13
4. **任务类型差异**：
   - Captioning 最不敏感（平均下降 12.59%）
   - VQA 和 Scene Text QA 最敏感（15-16%）

## 与 run_multi_datasets_h100.py 集成

`run_multi_datasets_h100.py` 使用 `num_active_blocks_list` 参数来控制激活的 block 数量。

**当前配置**：`num_active_blocks_list = [12, 14, 16]`

**对应关系**：
- `num_active_blocks = 12` → 移除 4 个 blocks
- `num_active_blocks = 14` → 移除 2 个 blocks  
- `num_active_blocks = 16` → 不移除（baseline）

**推荐的 block 组合**：
- 移除 2 个：去掉 Block 4, 13 → `active_blocks = [0,1,2,3,5,6,7,8,9,10,11,12,14,15]`
- 移除 4 个：去掉 Block 2, 4, 10, 13 → `active_blocks = [0,1,3,5,6,7,8,9,11,12,14,15]`

